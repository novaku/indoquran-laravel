import{r as s,a as Se,i as Le,u as Be,j as e,L as Ie,S as Me,k as De,b as xe,f as W}from"./index-BlyqFAHZ.js";import{u as ge,F as Pe}from"./ReadingProgressService-p1AuWBWK.js";import"./vendor-CcCrBLU2.js";/* empty css            */function Ue({title:c,titleId:r,...d},h){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":r},d),c?s.createElement("title",{id:r},c):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Fe=s.forwardRef(Ue);function Oe({title:c,titleId:r,...d},h){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":r},d),c?s.createElement("title",{id:r},c):null,s.createElement("path",{d:"M11.25 4.533A9.707 9.707 0 0 0 6 3a9.735 9.735 0 0 0-3.25.555.75.75 0 0 0-.5.707v14.25a.75.75 0 0 0 1 .707A8.237 8.237 0 0 1 6 18.75c1.995 0 3.823.707 5.25 1.886V4.533ZM12.75 20.636A8.214 8.214 0 0 1 18 18.75c.966 0 1.89.166 2.75.47a.75.75 0 0 0 1-.708V4.262a.75.75 0 0 0-.5-.707A9.735 9.735 0 0 0 18 3a9.707 9.707 0 0 0-5.25 1.533v16.103Z"}))}const q=s.forwardRef(Oe);function Ze({title:c,titleId:r,...d},h){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":r},d),c?s.createElement("title",{id:r},c):null,s.createElement("path",{fillRule:"evenodd",d:"M6.32 2.577a49.255 49.255 0 0 1 11.36 0c1.497.174 2.57 1.46 2.57 2.93V21a.75.75 0 0 1-1.085.67L12 18.089l-7.165 3.583A.75.75 0 0 1 3.75 21V5.507c0-1.47 1.073-2.756 2.57-2.93Z",clipRule:"evenodd"}))}const Ke=s.forwardRef(Ze);function Ve({title:c,titleId:r,...d},h){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":r},d),c?s.createElement("title",{id:r},c):null,s.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const Z=s.forwardRef(Ve);function ze({title:c,titleId:r,...d},h){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":r},d),c?s.createElement("title",{id:r},c):null,s.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}const pe=s.forwardRef(ze);function Qe({title:c,titleId:r,...d},h){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":r},d),c?s.createElement("title",{id:r},c):null,s.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const He=s.forwardRef(Qe);function We({title:c,titleId:r,...d},h){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":r},d),c?s.createElement("title",{id:r},c):null,s.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const G=s.forwardRef(We);function qe({title:c,titleId:r,...d},h){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":r},d),c?s.createElement("title",{id:r},c):null,s.createElement("path",{d:"M7.5 3.375c0-1.036.84-1.875 1.875-1.875h.375a3.75 3.75 0 0 1 3.75 3.75v1.875C13.5 8.161 14.34 9 15.375 9h1.875A3.75 3.75 0 0 1 21 12.75v3.375C21 17.16 20.16 18 19.125 18h-9.75A1.875 1.875 0 0 1 7.5 16.125V3.375Z"}),s.createElement("path",{d:"M15 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 17.25 7.5h-1.875A.375.375 0 0 1 15 7.125V5.25ZM4.875 6H6v10.125A3.375 3.375 0 0 0 9.375 19.5H16.5v1.125c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V7.875C3 6.839 3.84 6 4.875 6Z"}))}const Ge=s.forwardRef(qe);function Xe({title:c,titleId:r,...d},h){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":r},d),c?s.createElement("title",{id:r},c):null,s.createElement("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z",clipRule:"evenodd"}))}const Je=s.forwardRef(Xe);function Ye({title:c,titleId:r,...d},h){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":r},d),c?s.createElement("title",{id:r},c):null,s.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))}const ea=s.forwardRef(Ye);function aa({title:c,titleId:r,...d},h){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":r},d),c?s.createElement("title",{id:r},c):null,s.createElement("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM18.584 5.106a.75.75 0 0 1 1.06 0c3.808 3.807 3.808 9.98 0 13.788a.75.75 0 0 1-1.06-1.06 8.25 8.25 0 0 0 0-11.668.75.75 0 0 1 0-1.06Z"}),s.createElement("path",{d:"M15.932 7.757a.75.75 0 0 1 1.061 0 6 6 0 0 1 0 8.486.75.75 0 0 1-1.06-1.061 4.5 4.5 0 0 0 0-6.364.75.75 0 0 1 0-1.06Z"}))}const ta=s.forwardRef(aa);function sa({title:c,titleId:r,...d},h){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":r},d),c?s.createElement("title",{id:r},c):null,s.createElement("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM17.78 9.22a.75.75 0 1 0-1.06 1.06L18.44 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06l1.72-1.72 1.72 1.72a.75.75 0 1 0 1.06-1.06L20.56 12l1.72-1.72a.75.75 0 1 0-1.06-1.06l-1.72 1.72-1.72-1.72Z"}))}const na=s.forwardRef(sa),X=({className:c})=>e.jsx("svg",{viewBox:"0 0 24 24",className:c,fill:"currentColor",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.051 3.488"})});function ca(){const{user:c}=Se(),{number:r,ayahNumber:d}=Le(),h=Be(),[i,fe]=s.useState(null),[g,be]=s.useState([]),[E,J]=s.useState(!0),[ye,Y]=s.useState(null),[l,K]=s.useState(()=>{const a=parseInt(d)||1;return console.log("🎯 Initial ayah number:",a),a}),[D,ee]=s.useState(new Set),[A,R]=s.useState(!1),[$,T]=s.useState(null),[we,ve]=s.useState(24),[k,ae]=s.useState(!0),[v,te]=s.useState(!1),[P,je]=s.useState(null),[se,V]=s.useState(""),[ke,U]=s.useState(!1),[ne,Ne]=s.useState({x:0,y:0}),[j,y]=s.useState(!1),[re,_e]=s.useState({top:0,left:0}),[F,Ae]=s.useState(!1),[C,$e]=s.useState(new Set);s.useRef({});const z=s.useRef(null),Q=s.useRef(null),w=s.useRef(!1),S=s.useCallback((a=l)=>{console.log(`🎯 Scrolling to ayah ${a}...`);const n=[()=>z.current?(console.log("📍 Using currentAyahRef for scroll"),z.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),!0):!1,()=>{const t=document.getElementById(`ayah-${a}-arabic`);return t?(console.log(`📍 Using ayah ID #ayah-${a}-arabic for scroll`),t.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),!0):!1},()=>{const t=document.getElementById("ayah-content");return t?(console.log("📍 Using ayah-content container for scroll"),t.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),!0):!1}];for(const t of n)if(t())break;setTimeout(()=>{const t=document.getElementById(`ayah-${a}-arabic`);t&&(t.style.background="linear-gradient(90deg, #fef3c7, #fde68a)",t.style.borderRadius="8px",t.style.padding="8px",t.style.transition="all 0.3s ease",setTimeout(()=>{t.style.background="transparent",t.style.padding="0"},2e3))},500)},[l]),x=g.find(a=>parseInt(a.ayah_number)===parseInt(l))||null;s.useEffect(()=>{console.log("🎯 Current Ayah Finding Result:",{currentAyahNumber:l,ayahsLength:g.length,found:!!x,currentAyah:x?{ayah_number:x.ayah_number,number:x.number,verse_number:x.verse_number,id:x.id,text_arabic:x.text_arabic?x.text_arabic.substring(0,50)+"...":"No Arabic text"}:null,totalAyahs:g.length,firstAyahInArray:g.length>0?{ayah_number:g[0].ayah_number,number:g[0].number,verse_number:g[0].verse_number,id:g[0].id}:"No ayahs available"})},[l,g,x]);const u=g.map(a=>parseInt(a.ayah_number)).filter(a=>a&&!isNaN(a)).sort((a,n)=>a-n),L=u.length,oe=u[0]||1,N=u[u.length-1]||1,H=L>0?Math.round((u.indexOf(parseInt(l))+1)/L*100):0;s.useEffect(()=>{i&&g.length>0&&console.log("📊 Total Ayahs Debug:",{surah_total_ayahs:i.total_ayahs,surah_verses_count:i.verses_count,surah_number_of_ayahs:i.number_of_ayahs,ayahs_length:g.length,calculated_totalAyahs:L,availableAyahNumbers:u,minAyahNumber:oe,maxAyahNumber:N,currentAyahNumber:l,completionPercentage:H,ayah_numbers_in_data:g.map(a=>a.ayah_number),first_five_ayahs:g.slice(0,5).map(a=>({ayah_number:a.ayah_number,text_preview:a.text_arabic?.substring(0,30)+"..."})),surahFields:Object.keys(i)})},[i,g,L,u,oe,N,l,H]),s.useEffect(()=>{const a=async()=>{try{J(!0),Y(null);const n=xe.getAuthToken();console.log(`🚀 Loading complete surah ${r} from API before rendering...`);const t=await W(`/api/surahs/${r}`,{headers:{Authorization:n?`Bearer ${n}`:"","Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error("Failed to fetch surah");const o=await t.json();if(o.status==="success"&&o.data){const p=o.data.surah||o.data,m=o.data.ayahs||[];if(console.log("✅ Complete surah data loaded from API:",{surahNumber:r,surahName:p.name_arabic||p.name,totalAyahsInAPI:m.length,apiEndpoint:`/api/surahs/${r}`,dataStructure:{surahKeys:p?Object.keys(p):"No surah data",ayahsCount:m.length,isAyahsArray:Array.isArray(m),firstAyahSample:m[0]?{id:m[0].id,ayah_number:m[0].ayah_number,surah_number:m[0].surah_number,text_preview:m[0].text_arabic?m[0].text_arabic.substring(0,30)+"...":"No Arabic text"}:"No ayahs available"}}),fe(p),be(Array.isArray(m)?m:[]),Array.isArray(m)&&m.length>0){const f=m.map(b=>b.ayah_number).filter(b=>b).sort((b,_)=>b-_);if(!f.includes(l)){const b=f.reduce((_,M)=>Math.abs(M-l)<Math.abs(_-l)?M:_);console.log(`🔄 Requested ayah ${l} not found, adjusting to closest available ayah: ${b}`),K(b)}}if(console.log("📖 Tafsir Debug:",{totalAyahs:m.length,ayahsWithTafsir:m.filter(f=>f.tafsir).length,firstAyahTafsir:m[0]?.tafsir?m[0].tafsir.substring(0,100)+"...":"No tafsir"}),console.log("🔖 Ayah Structure Debug:",{firstAyah:m[0],hasId:!!m[0]?.id,ayahFields:m[0]?Object.keys(m[0]):[],totalAyahsReceived:m.length}),console.log("🔍 Current Ayah Debug:",{currentAyahNumber:l,ayahsData:m.slice(0,3).map(f=>({ayah_number:f.ayah_number,number:f.number,verse_number:f.verse_number,id:f.id}))}),c)try{const f=await W("/api/penanda",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json",Accept:"application/json"}});if(f.ok){const b=await f.json();if(b.status==="success"){const _=new Set;b.data.forEach(M=>{M.surah_number==r&&_.add(M.ayah_number)}),ee(_)}}}catch(f){console.log("Error fetching bookmarks:",f)}}else throw new Error(o.message||"Failed to load surah")}catch(n){console.error("Error fetching surah data:",n),Y(n.message)}finally{J(!1)}};r&&(console.log(`🔄 REQUIREMENT 1: Fetching complete surah data for surah ${r}...`),a())},[r,c]),s.useEffect(()=>{if(g.length>0&&!d&&u.length>0){const a=u[0];console.log(`🔗 REQUIREMENT 2: No ayah in URL, redirecting to first ayah: /surah/${r}/${a}`),h(`/surah/${r}/${a}`,{replace:!0})}},[g,d,r,h,u]),s.useEffect(()=>{if(console.log(`🔗 URL Change Detected - Surah: ${r}, Ayah: ${d||"undefined"}`),d){const a=parseInt(d);a!==l&&(console.log(`🔄 REQUIREMENT 2: URL ayah changed from ${l} to ${a}`),console.log(`✅ URL Pattern: /surah/${r}/${a}`),K(a),setTimeout(()=>{S(a)},100),c&&r&&ge(parseInt(r),a).then(()=>{console.log("📖 Reading progress updated on URL change:",{surah:r,ayah:a})}).catch(n=>{console.error("❌ Error updating reading progress on URL change:",n)}))}else!d&&l!==1&&(console.log("🔄 No ayah in URL, defaulting to ayah 1"),K(1))},[d,c,r,l]),s.useEffect(()=>{if(!w.current&&g.length>0&&!E&&u.length>0){const a=parseInt(d);if(console.log("🔍 URL Validation Debug:",{urlAyahParam:a,urlAyahParamType:typeof a,availableAyahNumbers:u,availableAyahNumbersTypes:u.map(n=>typeof n),includes:u.includes(a),isValidNumber:!isNaN(a)&&a>0}),a&&!isNaN(a)&&!u.includes(a)){const n=u.reduce((t,o)=>Math.abs(o-a)<Math.abs(t-a)?o:t);console.log(`🚨 URL contains invalid ayah ${a}, redirecting to closest ayah ${n}`),w.current=!0,h(`/surah/${r}/${n}`,{replace:!0}),setTimeout(()=>{w.current=!1},1e3);return}}},[g,E,r,h,d,u]),s.useEffect(()=>{if(!E&&g.length>0&&d&&x){const a=parseInt(d);console.log(`🎯 Component loaded with ayah ${a}, performing auto-scroll...`),setTimeout(()=>{S(a)},200)}},[E,g.length,d,x,S]);const Ee=async a=>{if(!c){h("/masuk");return}try{const n=xe.getAuthToken(),t=D.has(a);console.log("🔖 Bookmark Debug:",{surahNumber:r,ayahNumber:a,isCurrentlyBookmarked:t,token:n?"Present":"Missing"});const o=await W(`/api/penanda/surah/${r}/ayah/${a}/toggle`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json",Accept:"application/json"}});if(console.log("🔖 Bookmark API Response:",{status:o.status,ok:o.ok,statusText:o.statusText}),o.ok){const p=await o.json();console.log("🔖 Bookmark Response Data:",p);const m=new Set(D);t?m.delete(a):m.add(a),ee(m);const f=document.createElement("div");f.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 transition-all text-sm",f.textContent=`✅ ${t?"Bookmark dihapus":"Bookmark ditambah"}!`,document.body.appendChild(f),setTimeout(()=>{f.style.opacity="0",setTimeout(()=>{document.body.contains(f)&&document.body.removeChild(f)},300)},2e3)}else{const p=await o.text();console.error("❌ Bookmark API Error:",{status:o.status,statusText:o.statusText,errorText:p}),alert(`Error toggling bookmark: ${o.status} ${o.statusText}`)}}catch(n){console.error("❌ Error toggling bookmark:",n),alert("Network error while toggling bookmark. Please try again.")}},le=async a=>{try{P&&P.pause();const n=g.find(t=>t.ayah_number===a||t.number===a);if(n){let t=null;if(n.audio_url)t=n.audio_url;else if(n.audio_urls){const o=typeof n.audio_urls=="string"?JSON.parse(n.audio_urls):n.audio_urls;if(Array.isArray(o)&&o.length>0)t=o[0];else if(typeof o=="object"){const p=["alafasy","sudais","husary","minshawi","abdulbasit"];for(const m of p)if(o[m]){t=o[m];break}t||(t=Object.values(o)[0])}}if(t){const o=new Audio(t);o.onplay=()=>{R(!0),T(a)},o.onpause=()=>{R(!1),T(null)},o.onended=()=>{R(!1),T(null)},o.onerror=p=>{console.error("Audio error:",p),R(!1),T(null)},je(o),await o.play()}}}catch(n){console.error("❌ Error playing audio:",n),R(!1),T(null)}},ie=()=>{P&&P.pause()},ce=async a=>{const n=g.find(t=>t.ayah_number===a||t.number===a);if(n){const t=n.text_indonesian||n.translation_id||"";let o=`🕌 Al-Qur'an: ${i.name_latin||i.name_english} - Ayat ${a}

`;o+=`📖 Arab:
${n.text_arabic}

`,n.text_latin&&(o+=`🔤 Latin:
${n.text_latin}

`),t&&(o+=`🇮🇩 Terjemahan:
${t}

`),n.tafsir&&(o+=`📚 Tafsir:
${n.tafsir}

`),o+=`� Surah ${i.name_latin} (${i.name_arabic}) - Ayat ${a}
`,o+=`�🔗 Baca selengkapnya: ${window.location.origin}/surah/${r}/${a}

`,o+="📱 IndoQuran - Baca Al-Qur'an dengan mudah";const m=`https://wa.me/?text=${encodeURIComponent(o)}`;window.open(m,"_blank")}},de=async()=>{if(i){let a=`🕌 Al-Qur'an: ${i.name_latin||i.name_english}

`;if(a+=`📊 Total Ayat: ${L}
`,a+=`📍 Tempat Turun: ${i.revelation_place||"Makkiyah/Madaniyah"}
`,i.name_arabic&&(a+=`🔤 Nama Arab: ${i.name_arabic}
`),(i.meaning||i.name_indonesian)&&(a+=`💡 Arti: ${i.meaning||i.name_indonesian}
`),i.description_short){const o=i.description_short.replace(/<[^>]*>/g,"");a+=`
📚 Ringkasan:
${o}
`}a+=`
🔗 Baca selengkapnya: ${window.location.origin}/surah/${r}

`,a+="📱 IndoQuran - Baca Al-Qur'an dengan mudah";const t=`https://wa.me/?text=${encodeURIComponent(a)}`;window.open(t,"_blank")}},B=async(a,n="arabic")=>{const t=g.find(o=>o.ayah_number===a||o.number===a);if(t){let o="";switch(n){case"arabic":o=t.text_arabic;break;case"latin":o=t.text_latin||"Transliterasi tidak tersedia";break;case"indonesian":o=t.text_indonesian||t.translation_id||"Terjemahan tidak tersedia";break;case"tafsir":o=t.tafsir||"Tafsir tidak tersedia";break;case"all":o=`${i.name_latin} - Ayat ${a}

`,o+=`Arab:
${t.text_arabic}

`,t.text_latin&&(o+=`Latin:
${t.text_latin}

`),(t.text_indonesian||t.translation_id)&&(o+=`Terjemahan:
${t.text_indonesian||t.translation_id}

`),t.tafsir&&(o+=`Tafsir:
${t.tafsir}`);break;default:o=t.text_arabic}try{await navigator.clipboard.writeText(o);const p=document.createElement("div");p.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 transition-all text-sm",p.textContent=`✅ ${n==="arabic"?"Teks Arab":n==="latin"?"Transliterasi":n==="indonesian"?"Terjemahan":n==="tafsir"?"Tafsir":"Semua teks"} berhasil disalin!`,document.body.appendChild(p),setTimeout(()=>{p.style.opacity="0",setTimeout(()=>{document.body.contains(p)&&document.body.removeChild(p)},300)},2e3)}catch(p){console.log("Error copying text:",p)}}},me=a=>{ve(n=>Math.max(12,Math.min(32,n+a)))},he=()=>{Ae(!F)},ue=a=>{const n=new Set(C);n.has(a)?n.delete(a):n.add(a),$e(n)},O=()=>{const a=window.getSelection(),n=a.toString().trim();if(n.length>0){const o=a.getRangeAt(0).getBoundingClientRect();V(n),Ne({x:o.left+o.width/2,y:o.top-10}),U(!0)}else U(!1),V("")},Re=async()=>{if(se){const a=`📖 Kutipan dari ${i.name_latin} - Ayat ${l}:

"${se}"

🔗 ${window.location.origin}/surah/${r}/${l}

📱 IndoQuran - Baca Al-Qur'an dengan mudah`,t=`https://wa.me/?text=${encodeURIComponent(a)}`;window.open(t,"_blank"),U(!1),V(""),window.getSelection().removeAllRanges()}};s.useEffect(()=>{const a=t=>{(t.ctrlKey||t.metaKey)&&t.shiftKey&&t.key==="S"&&(t.preventDefault(),ce(l)),(t.ctrlKey||t.metaKey)&&t.shiftKey&&t.key==="U"&&(t.preventDefault(),de()),(t.ctrlKey||t.metaKey)&&t.key==="t"&&(t.preventDefault(),he()),(t.ctrlKey||t.metaKey)&&t.shiftKey&&t.key==="R"&&(t.preventDefault(),ae(!k)),(t.ctrlKey||t.metaKey)&&t.shiftKey&&t.key==="D"&&(t.preventDefault(),te(!v)),t.key==="Escape"&&(y(!1),U(!1))},n=t=>{j&&!t.target.closest(".copy-dropdown-container")&&y(!1)};return document.addEventListener("mouseup",O),document.addEventListener("selectionchange",O),document.addEventListener("keydown",a),document.addEventListener("click",n),()=>{document.removeEventListener("mouseup",O),document.removeEventListener("selectionchange",O),document.removeEventListener("keydown",a),document.removeEventListener("click",n)}},[l,j,k,v]),s.useEffect(()=>{const a=t=>{if(j){const o=t.target.closest(".copy-dropdown-container"),p=t.target.closest(".copy-dropdown-portal");!o&&!p&&y(!1)}},n=()=>{if(Q.current&&j){const t=Q.current.getBoundingClientRect();_e({top:t.bottom+window.scrollY+8,left:t.left+window.scrollX})}};return j&&(n(),window.addEventListener("scroll",n),window.addEventListener("resize",n)),document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a),window.removeEventListener("scroll",n),window.removeEventListener("resize",n)}},[j]);const I=s.useCallback(async a=>{if(w.current){console.log("⏳ Navigation already in progress, skipping");return}if(!u.includes(a)){console.warn(`🚨 Ayah ${a} not found in available ayahs`);return}w.current=!0,console.log(`🚀 REQUIREMENT 2: Updating URL to /surah/${r}/${a}`);try{if(h(`/surah/${r}/${a}`),console.log(`✅ URL successfully updated to: /surah/${r}/${a}`),c)try{await ge(parseInt(r),a),console.log(`📖 Reading progress updated for surah ${r}, ayah ${a}`)}catch(n){console.error("❌ Error updating reading progress:",n)}setTimeout(()=>{S(a)},300),setTimeout(()=>{w.current=!1,console.log(`✅ Navigation to ayah ${a} completed`)},800)}catch(n){console.error("❌ Navigation error:",n),w.current=!1}},[u,r,h,c,S]),Te=s.useCallback(()=>{const a=u.indexOf(l);if(w.current){console.log("⏳ Previous navigation already in progress, skipping");return}if(a>0){const n=u[a-1];console.log(`⬅️ REQUIREMENT 2: Going to previous ayah: ${l} → ${n}`),console.log(`📍 Previous URL will be: /surah/${r}/${n}`),I(n)}else console.log("⏹️ Already at first ayah, cannot go previous")},[l,u,I,r]),Ce=s.useCallback(()=>{const a=u.indexOf(l);if(w.current){console.log("⏳ Next navigation already in progress, skipping");return}if(a>=0&&a<u.length-1){const n=u[a+1];console.log(`➡️ REQUIREMENT 2: Going to next ayah: ${l} → ${n}`),console.log(`📍 Next URL will be: /surah/${r}/${n}`),I(n)}else console.log("⏹️ Already at last ayah, cannot go next")},[l,u,I,r]);return E||!i||g.length===0||!x?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ie,{size:"lg"}),e.jsx("p",{className:"mt-4 text-gray-600",children:i?g.length===0?"Memuat ayat-ayat...":x?"Memuat...":"Menyiapkan ayat...":"Memuat data surah..."}),e.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Mengambil data lengkap dari API: /api/surahs/",r]})]})}):ye?e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Terjadi kesalahan memuat surah"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Coba Lagi"})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50",children:[e.jsx("style",{jsx:!0,children:`
                @keyframes fadeIn {
                    from {
                        opacity: 0;
                        transform: translate(-50%, -100%) scale(0.8);
                    }
                    to {
                        opacity: 1;
                        transform: translate(-50%, -100%) scale(1);
                    }
                }
                .animate-fadeIn {
                    animation: fadeIn 0.2s ease-out;
                }
                .line-clamp-3 {
                    display: -webkit-box;
                    -webkit-line-clamp: 3;
                    -webkit-box-orient: vertical;
                    overflow: hidden;
                }
                
                /* Custom grid columns for responsive navigation */
                @media (min-width: 1024px) {
                    .grid-cols-15 {
                        grid-template-columns: repeat(15, minmax(0, 1fr));
                    }
                }
            `}),e.jsx(Me,{title:`${i.name_latin||i.name_english} (${i.name_arabic}) - IndoQuran`,description:i.description_short||`Baca dan dengarkan Surah ${i.name_latin||i.name_english} dengan teks Arab, terjemahan, dan bacaan audio. Surah ke-${i.number} dengan ${N} ayat.`}),ke&&e.jsx("div",{className:"fixed z-50 transform -translate-x-1/2 -translate-y-full",style:{left:`${ne.x}px`,top:`${ne.y}px`},children:e.jsxs("button",{onClick:Re,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg shadow-lg hover:bg-green-700 transition-all animate-fadeIn",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsx("span",{children:"Bagikan ke WhatsApp"})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>h("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-green-600 p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Kembali ke beranda",children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline text-sm",children:"Beranda"})]}),e.jsxs("div",{className:"text-center flex-1 mx-4",children:[e.jsx("h1",{className:"text-base sm:text-lg font-semibold text-gray-800 truncate",children:i.name_latin||i.name_english}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[e.jsxs("span",{className:"hidden sm:inline",children:["Ayat ",l," dari ",N," • "]}),e.jsxs("span",{className:"sm:hidden",children:[l,"/",N," • "]}),H,"%"]})]}),e.jsx("div",{className:"w-16 sm:w-8"})]})})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg mb-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:i.name_latin||i.name_english}),e.jsx("p",{className:"text-6xl font-arabic text-green-700 mb-2 text-center",dir:"rtl",children:i.name_arabic}),e.jsx("p",{className:"text-lg text-gray-600",children:i.name_indonesian})]}),e.jsxs("div",{className:"flex justify-center items-center space-x-6 text-sm text-gray-600 mb-4",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"font-medium",children:["Surah ke-",i.number]})}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{children:[N," ayat"]})}),i.revelation_place&&e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{children:i.revelation_place})})]}),(i.description_short||i.description_long||i.description)&&e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-2 sm:gap-3 mb-4",children:[(i.description_short||i.description)&&e.jsxs("button",{onClick:()=>ae(!k),className:`flex items-center justify-center space-x-2 px-3 sm:px-4 py-2 rounded-lg transition-all duration-200 shadow-sm border group w-full sm:w-auto ${k?"bg-gradient-to-r from-green-600 to-emerald-600 text-white border-green-600 shadow-green-200":"bg-gradient-to-r from-green-100 to-emerald-100 text-green-700 border-green-200 hover:from-green-200 hover:to-emerald-200"}`,title:"Toggle ringkasan surah (Ctrl+Shift+R)",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{className:"text-sm font-medium",children:[k?"Sembunyikan":"Tampilkan"," Ringkasan"]}),k?e.jsx(G,{className:"w-4 h-4"}):e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden lg:group-hover:inline-block text-xs opacity-75 ml-1",children:"(⌘⇧R)"})]}),i.description_long&&e.jsxs("button",{onClick:()=>te(!v),className:`flex items-center justify-center space-x-2 px-3 sm:px-4 py-2 rounded-lg transition-all duration-200 shadow-sm border group w-full sm:w-auto ${v?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white border-blue-600 shadow-blue-200":"bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-700 border-blue-200 hover:from-blue-200 hover:to-indigo-200"}`,title:"Toggle penjelasan lengkap surah (Ctrl+Shift+D)",children:[e.jsx(Fe,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:[e.jsxs("span",{className:"hidden sm:inline",children:[v?"Sembunyikan":"Tampilkan"," Penjelasan Lengkap"]}),e.jsxs("span",{className:"sm:hidden",children:[v?"Sembunyikan":"Tampilkan"," Detail"]})]}),v?e.jsx(G,{className:"w-4 h-4"}):e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden lg:group-hover:inline-block text-xs opacity-75 ml-1",children:"(⌘⇧D)"})]})]}),(i.description_short||i.description)&&k&&e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-5 mb-4 text-left border border-green-100 shadow-sm animate-fadeIn",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-600 rounded-full flex items-center justify-center mt-1",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-green-800 font-medium mb-2 text-sm",children:"Ringkasan Surah"}),e.jsx("div",{className:"text-green-800 text-sm leading-relaxed prose prose-sm max-w-none prose-green",dangerouslySetInnerHTML:{__html:i.description_short||i.description||`Surah ${i.name_latin} adalah surah ke-${i.number} dalam Al-Quran yang terdiri dari ${i.total_ayahs} ayat dan diturunkan di ${i.revelation_place}.`}})]})]})}),i.description_long&&v&&e.jsx("div",{className:"mb-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-5 border border-blue-200 text-left shadow-sm animate-fadeIn",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center mt-1",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-blue-800 font-medium mb-3 text-sm",children:"Penjelasan Lengkap Surah"}),e.jsx("div",{className:"text-blue-800 text-sm leading-relaxed prose prose-sm max-w-none prose-blue",dangerouslySetInnerHTML:{__html:i.description_long}})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-2",children:[e.jsx("button",{onClick:()=>me(-2),className:"px-3 py-1 text-sm bg-white rounded hover:bg-gray-50 border",children:"A-"}),e.jsx("span",{className:"text-sm text-gray-600 px-2",children:"Font"}),e.jsx("button",{onClick:()=>me(2),className:"px-3 py-1 text-sm bg-white rounded hover:bg-gray-50 border",children:"A+"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:[e.jsxs("button",{onClick:he,className:`flex items-center justify-center space-x-2 px-4 py-2 rounded-lg transition-colors group w-full sm:w-auto ${F?"bg-purple-100 text-purple-700 hover:bg-purple-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:"Tampilkan/sembunyikan tafsir ayat (Ctrl+T)",children:[e.jsx(q,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm sm:text-base",children:[F?"Sembunyikan":"Tampilkan"," Tafsir"]}),e.jsx("span",{className:"hidden lg:group-hover:inline-block text-xs opacity-75 ml-1",children:"(⌘T)"})]}),e.jsxs("button",{onClick:de,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors group w-full sm:w-auto",title:"Bagikan informasi surah ini (Ctrl+Shift+U)",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Bagikan Surah"}),e.jsx("span",{className:"hidden lg:group-hover:inline-block text-xs opacity-75 ml-1",children:"(⌘⇧U)"})]})]})]})]}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-8 shadow-lg mb-6",id:"ayah-content",children:x?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mb-6",id:`ayah-${l}-arabic`,children:e.jsx("p",{ref:z,className:"font-arabic text-gray-800 leading-loose",style:{fontSize:`${we+20}px`},dir:"rtl",children:x.text_arabic})}),x.text_latin&&e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-gray-600 text-base italic leading-relaxed max-w-4xl mx-auto",children:x.text_latin})}),(x.text_indonesian||x.translation_id)&&e.jsx("p",{className:"text-gray-700 text-lg leading-relaxed max-w-4xl mx-auto",children:x.text_indonesian||x.translation_id}),F&&e.jsx("div",{className:"mt-6 max-w-4xl mx-auto",children:x.tafsir?e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl p-6 border border-purple-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{className:"w-5 h-5 text-purple-600"}),e.jsxs("h3",{className:"text-lg font-semibold text-purple-800",children:["Tafsir Ayat ",l]})]}),e.jsx("button",{onClick:()=>ue(l),className:"text-purple-600 hover:text-purple-800 transition-colors",title:C.has(l)?"Ringkas tafsir":"Perluas tafsir",children:C.has(l)?e.jsx(G,{className:"w-5 h-5"}):e.jsx(Z,{className:"w-5 h-5"})})]}),e.jsx("div",{className:`prose prose-purple max-w-none ${C.has(l)?"":"line-clamp-3"}`,children:e.jsx("p",{className:"text-purple-700 leading-relaxed text-justify",children:x.tafsir})}),!C.has(l)&&x.tafsir.length>200&&e.jsx("button",{onClick:()=>ue(l),className:"mt-2 text-sm text-purple-600 hover:text-purple-800 font-medium",children:"Baca selengkapnya..."})]}):e.jsx("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[e.jsx(q,{className:"w-5 h-5"}),e.jsxs("p",{className:"text-sm",children:["Tafsir untuk ayat ",l," belum tersedia."]})]})})})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mb-6",children:[e.jsxs("button",{onClick:()=>ce(l),className:"flex items-center space-x-2 px-3 sm:px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors group text-sm sm:text-base",title:"Bagikan ayat ini ke WhatsApp (Ctrl+Shift+S)",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Bagikan Ayat"}),e.jsx("span",{className:"sm:hidden",children:"Bagikan"}),e.jsx("span",{className:"hidden lg:group-hover:inline-block text-xs opacity-75 ml-1",children:"(⌘⇧S)"})]}),c&&e.jsxs("button",{onClick:()=>Ee(l),className:`flex items-center space-x-2 px-3 sm:px-4 py-2 rounded-lg transition-colors text-sm sm:text-base ${D.has(l)?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:"Bookmark ayat ini",children:[D.has(l)?e.jsx(Ke,{className:"w-4 h-4"}):e.jsx(Pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Bookmark"})]}),e.jsx("div",{className:"relative copy-dropdown-container",children:e.jsxs("button",{ref:Q,onClick:()=>y(!j),className:"flex items-center space-x-2 px-3 sm:px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm sm:text-base",title:"Salin teks ayat",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{children:"Salin"}),e.jsx(Z,{className:"w-3 h-3"})]})}),e.jsx("button",{onClick:()=>A&&$===l?ie():le(l),className:"flex items-center space-x-2 px-3 sm:px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm sm:text-base",title:A&&$===l?"Pause audio":"Putar audio",children:A&&$===l?e.jsxs(e.Fragment,{children:[e.jsx(na,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Pause"}),e.jsx("span",{className:"sm:hidden",children:"⏸"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ta,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Dengar"}),e.jsx("span",{className:"sm:hidden",children:"▶"})]})})]}),j&&De.createPortal(e.jsx("div",{className:"fixed w-48 bg-white rounded-lg shadow-xl border border-gray-200 z-[9999] copy-dropdown-portal",style:{top:`${re.top}px`,left:`${Math.max(8,Math.min(window.innerWidth-200,re.left))}px`},children:e.jsxs("div",{className:"py-1",children:[e.jsx("button",{onClick:()=>{B(l,"arabic"),y(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"📖 Salin Teks Arab"}),x?.text_latin&&e.jsx("button",{onClick:()=>{B(l,"latin"),y(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"� Salin Transliterasi"}),(x?.text_indonesian||x?.translation_id)&&e.jsx("button",{onClick:()=>{B(l,"indonesian"),y(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"🇮🇩 Salin Terjemahan"}),x?.tafsir&&e.jsx("button",{onClick:()=>{B(l,"tafsir"),y(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"📖 Salin Tafsir"}),e.jsx("button",{onClick:()=>{B(l,"all"),y(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 border-t border-gray-100",children:"📄 Salin Semua Teks"})]})}),document.body),e.jsxs("div",{className:"flex items-center justify-center gap-3 sm:gap-4 mb-8",children:[e.jsxs("button",{onClick:Te,disabled:u.indexOf(l)<=0,className:"flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm sm:text-base",children:[e.jsx(pe,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Sebelumnya"}),e.jsx("span",{className:"sm:hidden",children:"Prev"})]}),e.jsx("button",{onClick:()=>A&&$===l?ie():le(l),className:"flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-green-600 text-white rounded-full hover:bg-green-700 transition-colors shadow-lg",title:A&&$===l?"Pause audio":"Putar audio",children:A&&$===l?e.jsx(Je,{className:"w-6 h-6 sm:w-8 sm:h-8"}):e.jsx(ea,{className:"w-6 h-6 sm:w-8 sm:h-8 ml-1"})}),e.jsxs("button",{onClick:Ce,disabled:u.indexOf(l)>=u.length-1,className:"flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm sm:text-base",children:[e.jsx("span",{className:"hidden sm:inline",children:"Selanjutnya"}),e.jsx("span",{className:"sm:hidden",children:"Next"}),e.jsx(He,{className:"w-4 h-4 sm:w-5 sm:h-5"})]})]})]}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"Ayat tidak ditemukan"})})}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Navigasi Ayat"}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:["Ayat ",l," dari ",N]})]}),e.jsx("div",{className:"grid grid-cols-8 sm:grid-cols-10 md:grid-cols-12 lg:grid-cols-15 gap-2 max-h-80 sm:max-h-96 overflow-y-auto",children:u.map(a=>{const n=a===l;return e.jsx("div",{className:"relative",children:e.jsx("button",{onClick:()=>I(a),className:`
                                            w-10 h-10 sm:w-12 sm:h-12 rounded-lg text-xs sm:text-sm font-medium transition-all
                                            ${n?"bg-green-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:scale-105"}
                                        `,title:`Pergi ke ayat ${a}`,children:a})},a)})})]})]})]})}export{ca as default};
