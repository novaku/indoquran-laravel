import{u as S,h as F,r as m,j as e,S as D,L as P,q as j,s as C,p as I}from"./index-BlyqFAHZ.js";import{f as T,q as y,k as q,r as A,s as E}from"./index-Csv7JzWX.js";import"./vendor-CcCrBLU2.js";/* empty css            */function L(){const N=S(),g=F(),[n,o]=m.useState({name:"",email:"",subject:"",message:""}),[d,x]=m.useState(null),[s,l]=m.useState({}),[p,h]=m.useState(!1),[b,f]=m.useState("");m.useEffect(()=>{if((async()=>{if(j())try{const a=await C("/api/user");if(a.ok){const r=await a.json();r&&o(t=>({...t,name:r.name||"",email:r.email||""}))}}catch(a){console.error("Error fetching user data:",a)}})(),g.state){const{name:a,email:r,subject:t,message:v}=g.state;o(c=>({...c,name:a||c.name,email:r||c.email,subject:t||c.subject,message:v||c.message}))}},[g.state]);const u=i=>{const{name:a,value:r}=i.target;o(t=>({...t,[a]:r})),s[a]&&l(t=>({...t,[a]:null}))},k=i=>{const a=i.target.files[0];if(a){if(a.size>5*1024*1024){l(t=>({...t,file:"Ukuran file maksimal 5MB"}));return}if(!["image/jpeg","image/png","image/gif","application/pdf","text/plain"].includes(a.type)){l(t=>({...t,file:"Tipe file tidak didukung. Gunakan JPG, PNG, GIF, PDF, atau TXT"}));return}x(a),l(t=>({...t,file:null}))}},w=async i=>{i.preventDefault(),h(!0),l({}),f("");try{const a=new FormData;Object.keys(n).forEach(t=>{a.append(t,n[t])}),d&&a.append("attachment",d);const r=j()?await I("/api/contact",a):await fetch("/api/contact",{method:"POST",body:a,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}});if(r.ok)f("Pesan Anda telah berhasil dikirim! Kami akan merespons sesegera mungkin."),o({name:n.name,email:n.email,subject:"",message:""}),x(null);else{const t=await r.json();t.errors?l(t.errors):l({general:t.message||"Gagal mengirim pesan. Silakan coba lagi."})}}catch(a){console.error("Contact form submission error:",a),l({general:"Terjadi kesalahan. Silakan coba lagi."})}finally{h(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(D,{title:"Hubungi Kami - IndoQuran",description:"Hubungi tim IndoQuran untuk pertanyaan, saran, atau bantuan"}),e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-16",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4",children:[e.jsx("div",{className:"flex items-center gap-4 mb-4",children:e.jsxs("button",{onClick:()=>N("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(T,{className:"w-5 h-5"}),e.jsx("span",{children:"Kembali"})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{className:"w-6 h-6 text-green-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Hubungi Kami"})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Kami senang mendengar dari Anda. Kirimkan pertanyaan, saran, atau masukan Anda."})]})}),e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[b&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-green-800",children:b})}),s.general&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-red-800",children:s.general})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Lengkap *"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:u,required:!0,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${s.name?"border-red-300":"border-gray-200"}`,placeholder:"Masukkan nama lengkap"})]}),s.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.name[0]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:u,required:!0,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${s.email?"border-red-300":"border-gray-200"}`,placeholder:"Masukkan alamat email"})]}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email[0]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subjek *"}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:n.subject,onChange:u,required:!0,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${s.subject?"border-red-300":"border-gray-200"}`,placeholder:"Masukkan subjek pesan"}),s.subject&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.subject[0]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Pesan *"}),e.jsx("textarea",{id:"message",name:"message",value:n.message,onChange:u,required:!0,rows:6,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-vertical ${s.message?"border-red-300":"border-gray-200"}`,placeholder:"Tulis pesan Anda di sini..."}),s.message&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.message[0]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Lampiran (opsional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"file",id:"attachment",name:"attachment",onChange:k,accept:".jpg,.jpeg,.png,.gif,.pdf,.txt",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${s.file?"border-red-300":"border-gray-200"}`})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Format yang didukung: JPG, PNG, GIF, PDF, TXT. Maksimal 5MB."}),d&&e.jsxs("p",{className:"mt-1 text-sm text-green-600",children:["File terpilih: ",d.name]}),s.file&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.file}),s.attachment&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.attachment[0]})]}),e.jsx("button",{type:"submit",disabled:p,className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsx(P,{size:"sm"}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"w-5 h-5"}),e.jsx("span",{children:"Kirim Pesan"})]})})]})}),e.jsxs("div",{className:"mt-8 text-center text-gray-600",children:[e.jsx("p",{className:"mb-2",children:"Atau hubungi kami melalui:"}),e.jsxs("p",{className:"text-sm",children:["Email: kontak@indoquran.web.id",e.jsx("br",{}),"Response time: 1-2 hari kerja"]})]})]})]})]})}export{L as default};
